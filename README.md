# APF-binaries
### A Spectroscopic Search for Undiscovered Binary Stars with Circumbinary Disks

This repo contains code to calculate the radial velocities (RVs) of our Automated Planet Finder (APF) targets to generate RV trends. It also contains results for each of our targets.

## Data
The following [OneDrive](https://pennstateoffice365-my.sharepoint.com/:f:/g/personal/ipc5094_psu_edu/Ev6wJAGONi1AkKi7rmZPVDIBwP2-GC90JCISJmBakoB-vw?e=a9Cz8q) contains the raw APF data of our targets, which is located in the `APF-data` folder. It also contains the synthetic stellar spectra downloaded from the G\"{o}ttingen Spectral Library, which is used to calculate the Doppler shifts in our APF spectra. The synthetic spectra are located in the `PHOENIX-data` folder.

## Code
### Data Exploration
The `explore-data` folder contains `nobs.py,` which generates a table reporting the number of observations for each target and `obs_durations.py,` which generates a table reporting the observation durations for each target.

### Calculating RVs
The `RV-calculation` folder contains the code to calculate the RVs of each target. `functions.py` contains all the functions used in the calculations, and `calc_rad_vel.py` uses these functions to caclulate the RVs for each target. `saving_rvs.py` saves the RV values for one target, and `saving_all_rvs.py` combines all the tables generated by `saving_rvs.py.` 

### Detection Threshold
The `detection-threshold` folder contains the code to calculate the detection threshold of each target. `detection_threshold.py` creates a detection threshold plot of one target, and `detection_threshold_all_stars.py` creates a figure and table summarizing the detection threshold of all targets. `orbital_estimates.py` reads in csv files containing the calculated RV values for the targets and plots orbital fits using given estimates of semi-major amplitudes and periods.

## Results
The `calculated-RVs` folder contains a table for each target with the calcuated RV for each observation taken. Each RV value is a median of three calculated RV values taken from three different orders. The `RV-plots` show the intermediate plots gneerated from the RV calculation for each target, along with the final RV time series for each target. The `detection-threshold-results` folder contains the tables and figures generated from `detection_threshold.py` and `detection_threshold_all_stars.py.`
